[
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Stock Entry", 
  "modified": "2017-08-03 00:38:16.606078", 
  "name": "Stock Entry-Client", 
  "script": "frappe.ui.form.on(\"Stock Entry\", {\n    setup: function(frm) {\n        erpnext.is_perpetual_inventory_enabled = function(){\n            return true\n        }\n    }\n})\n", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "DocType", 
  "modified": "2017-08-06 19:17:40.293798", 
  "name": "DocType-Client", 
  "script": "frappe.ui.form.on(\"DocType\", {\n    refresh: function(frm) {\n        if (frm.doc.__islocal) {\n            frm.set_value(\"module\", \"PRINTWORKS\")\n        }\n    }\n})", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "BOM", 
  "modified": "2017-09-28 15:34:26.162496", 
  "name": "BOM-Client", 
  "script": "frappe.ui.form.on(\"BOM\", {\n    refresh: function(frm) {\n/*        frm.set_query(\"item_code\", \"items\", function(frm, cdt, cdn) {\n            var row = frappe.get_doc(cdt, cdn)\n            var filters = {\n                \"has_variants\": \"0\",\n                \"variant_of\": row.template\n            }\n            return {\n                \"filters\": filters\n            }\n        })\n\n        frm.set_query(\"template\", \"items\", function(frm, cdt, cdn) {\n            var row = frappe.get_doc(cdt, cdn)\n            var filters = {\n                \"has_variants\": \"1\"\n            }\n            return {\n                \"filters\": filters\n            }\n        })*/\n        frappe.db.get_value(\"Configuracion General\", \"Configuracion General\", \"item_group\", function(data) {\n            frm.set_query(\"item\", function() {\n                return {\n                    \"filters\": {\n                        \"item_group_1\": data.item_group\n                    }\n                }\n            })\n        })\n    },\n    onload: function(frm) {\n        if (frm.doc.__islocal) {\n            $.each(frm.doc.items, function(idx, row) {\n                frappe.model.set_value(row.doctype, row.docname, 'item_code', '')\n            })\n            refresh_field(\"items\")\n        }\n    }\n})", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Item", 
  "modified": "2017-09-28 14:05:11.710653", 
  "name": "Item-Client", 
  "script": "frappe.provide(\"pws.flags\")\nfrappe.ui.form.on(\"Item\", {\n    refresh: function(frm) {\n        frm.trigger(\"set_queries\")\n    },\n    item_name: function(frm) {\n        frm.set_value(\"item_code\", frm.doc.item_name)\n    },\n    onload_post_render: function(frm) {\n        frm.trigger(\"set_flags_for_item_groups\")\n        setTimeout(function() {\n            frm.trigger(\"trigger_item_groups\")\n        }, 599)\n    },\n    set_queries: function(frm) {\n        var events = [\n            \"set_item_group_1_query\",\n            \"set_item_group_2_query\",\n            \"set_item_group_3_query\",\n            \"set_item_group_4_query\",\n            \"set_item_group_query\",\n        ]\n\n        $.map(events, function(event) {\n            frm.trigger(event)\n        })\n    },\n    trigger_item_groups: function(frm) {\n        var events = [\n            \"item_group_1\",\n            \"item_group_2\",\n            \"item_group_3\",\n            \"item_group_4\",\n        ]\n\n        $.map(events, function(event) {\n            frm.trigger(event)\n        })\n    },\n    item_group_1: function(frm) {\n        if (!pws.flags.dont_clear_item_group_2) {\n            frm.set_value(\"item_group_2\", \"\")\n        }\n\n        frappe.db.get_value(\"Item Group\", frm.doc.item_group_1, \"is_group\", function(data) {\n            var will_display = false\n\n            if (data) {\n                will_display = (frm.is_new() && data.is_group) || (frm.doc.item_group_2)\n            }\n            \n            frm.toggle_display(\"item_group_2\", will_display)\n        })\n\n        pws.flags.dont_clear_item_group_2 = undefined\n    },\n    item_group_2: function(frm) {\n        if (!pws.flags.dont_clear_item_group_3) {\n            frm.set_value(\"item_group_3\", \"\")\n        }\n\n        frappe.db.get_value(\"Item Group\", frm.doc.item_group_2, \"is_group\", function(data) {\n            var will_display = false\n\n            if (data) {\n                will_display = (frm.is_new() && data.is_group) || (frm.doc.item_group_3)\n            }\n\n            frm.toggle_display(\"item_group_3\", will_display)\n        })\n\n        pws.flags.dont_clear_item_group_3 = undefined\n    },\n    item_group_3: function(frm) {\n        if (!pws.flags.dont_clear_item_group_4) {\n            frm.set_value(\"item_group_4\", \"\")\n        }\n\n        frappe.db.get_value(\"Item Group\", frm.doc.item_group_3, \"is_group\", function(data) {\n            var will_display = false\n\n            if (data) {\n                will_display = (frm.is_new() && data.is_group) || (frm.doc.item_group_4)\n            }\n\n            frm.toggle_display(\"item_group_4\", will_display)\n        })\n\n        pws.flags.dont_clear_item_group_4 = undefined\n    },\n    item_group_4: function(frm) {\n        // to do\n    },\n    set_flags_for_item_groups: function(frm) {\n        var flags = [\n            \"dont_clear_item_group_2\",\n            \"dont_clear_item_group_3\",\n            \"dont_clear_item_group_4\",\n        ]\n\n        $.map(flags, function(flag) {\n            pws.flags[flag] = !frm.is_new()\n        })\n    },\n    set_item_group_query: function(frm) {\n        frm.set_query(\"item_group\", function() {\n            var filters = {\n                \"name\": [\"!=\", \"All Item Groups\"]\n            }\n\n            return {\n                \"filters\": filters\n            }\n        })\n    },\n    set_item_group_1_query: function(frm) {\n        frm.set_query(\"item_group_1\", function() {\n            var filters = {\n                \"parent_item_group\": \"All Item Groups\"\n            }\n\n            return {\n                \"filters\": filters\n            }\n        })\n    },\n    set_item_group_2_query: function(frm) {\n        frm.set_query(\"item_group_2\", function() {\n            var filters = {\n                \"parent_item_group\": frm.doc.item_group_1\n            }\n\n            return {\n                \"filters\": filters\n            }\n        })\n    },\n    set_item_group_3_query: function(frm) {\n        frm.set_query(\"item_group_3\", function() {\n            var filters = {\n                \"parent_item_group\": frm.doc.item_group_2\n            }\n\n            return {\n                \"filters\": filters\n            }\n        })\n    },\n    set_item_group_4_query: function(frm) {\n        frm.set_query(\"item_group_4\", function() {\n            var filters = {\n                \"parent_item_group\": frm.doc.item_group_3\n            }\n\n            return {\n                \"filters\": filters\n            }\n        })\n    },\n\n})\n", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Item Group", 
  "modified": "2017-09-29 16:05:27.447975", 
  "name": "Item Group-Client", 
  "script": "frappe.ui.form.on(\"Item Group\", {\n    refresh: function(frm) {\n        frm.toggle_enable(\"item_group_code\", ! frm.doc.item_group_code)\n    }\n})", 
  "script_type": "Client"
 }
]